{% extends "base.html" %} {% block title %}Menu{% endblock %} {% block content
%}
<div
  class="nes-container with-title is-rounded"
  style="margin: 20px auto; max-width: 800px"
>
  <p class="title">Menu</p>

  <!-- Button to Add New Product -->
  <div style="text-align: right; margin-bottom: 15px">
    <a href="{{ url_for('main.new_product') }}" class="nes-btn is-primary"
      >Add New Product</a
    >
  </div>

  {% if products %}
  <table class="nes-table is-bordered is-centered">
    <thead>
      <tr>
        <th>Product Name</th>
        <th>Price</th>
        <th>Description</th>
        <th>Category</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for product in products %}
      <tr>
        <td>{{ product.name }}</td>
        <td>${{ product.price }}</td>
        <td>{{ product.description }}</td>
        <td>{{ product.category }}</td>
        <td>
          <!-- Edit Button -->
          <a
            href="{{ url_for('main.edit_product', id=product.id) }}"
            class="nes-btn is-warning"
            style="margin-bottom: 5px"
            >Edit</a
          >
          <!-- Delete Form Button -->
          <form
            action="{{ url_for('main.delete_product_form', id=product.id) }}"
            method="POST"
            style="display: inline"
          >
            <button
              type="submit"
              class="nes-btn is-error"
              onclick="return confirm('Are you sure you want to delete this item?');"
            >
              Delete
            </button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>No products available yet.</p>
  {% endif %}
</div>
{% endblock %}
